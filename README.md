# Capitalizer
An intuitive spending analysist

## Table of Contents
- [Overview](#overview)
- [Usage](#usage)
- [How To Run](#how-to-run)
- [Diagrams](#diagrams)
- [Dependencies](#dependencies)

## Overview
Our application is engineered to help your city efficiently allocate taxpayer dollars.  We do this by automating the tracking and analysis of your city's previous spending records so they can better manage their spending.  

This app is made up of five primary modules:
- Web Client (powered by React.js)
- Server (powered by Node.js & Express.js)
- Natural Language Processing (powered by Java & Standford's CoreNLP library)
- Database (powered by MySQL)
- Dashboard (powered by the ELK Stack - ElasticSearch, Logstash, & Kibana)

Our web client is the view of our whole system, this is how you upload your data and analyze it with any of our convienient tools.  Our dashboard is housed inside of our web client, but is generated by Kibana which runs on the ElasticSearch (ES) engine.  Before your data is displayed on our interactive dashboard, additional information needs to be extracted and processed; that's where our natural language processing (NLP) comes in.  Our NLP module takes your uploaded data and extracts the right information so that you can view your data much more clearly.  However, the NLP app needs to get this data from somewhere: our server.  This is the muscle that allows all our modules to communicate; it's also responsible for maintaining our database.  Our database is where all the spending & user data is safely stored.  It's also the source where the ES engine uses Logstash to help it ingest the processed data and display it on our Kibana powered dashboard.

With this application, you can upload a csv document containing your city's spending data and immediately understand spending trends.  You can use our interactive dashboard to break down your data by product, department, vendor, date, and much more.  You can even compare your city's spending history with another city.  Scroll down to meet our team of developers, and keep going so you can see how our app works.

## Team
<a href="https://github.com/GrayGorilla" target="_blank"><img src="https://avatars2.githubusercontent.com/u/43688010?s=400&u=170fcd351efcc42441c6689c3221cabac286f520&v=4" align="left" height="30px">Nathan Brennan </a>

<a href="https://github.com/jalec789" target="_blank"><img src="https://avatars0.githubusercontent.com/u/31293853?s=400&u=7659dcc0cdeeadfe836d2781844b34d80764c5f4&v=4" align="left" height="30px">Jason Chan </a>

<a href="https://github.com/sha021" target="_blank"><img src="https://avatars2.githubusercontent.com/u/43655180?s=400&u=e858756c01f86ccbeae24090f24dc0045d6997d6&v=4" align="left" height="30px">Siena Seung Eun Ha </a>

## Usage

### Demo

Natural Language Processing  |  Web Client
:-------------------------:|:-------------------------:
[![NLP demo](http://img.youtube.com/vi/bgSFB-p9-s0/0.jpg)](http://www.youtube.com/watch?v=bgSFB-p9-s0 "Capitalizer NLP Demo")  |  [![Web app demo](http://img.youtube.com/vi/Tcz1K4I6WFg/0.jpg)](http://www.youtube.com/watch?v=Tcz1K4I6WFg "Capitalizer Web App Demo")
<br />

### Screenshots of Application
![Alt text](/../readmeUpdate/screenshots/mainPage.png?raw=true "Optional Title")

##### First thing you do is authenticate
![image](https://user-images.githubusercontent.com/43688010/111903345-12cca780-89ff-11eb-839b-681c5b1c708c.png)  |  ![image](https://user-images.githubusercontent.com/43688010/111903358-2a0b9500-89ff-11eb-859e-d9f4109e32bb.png)
:-------------------------:|:-------------------------:

##### View our interactive dashboard powered by Kibana
![image](https://user-images.githubusercontent.com/43688010/111902613-866cb580-89fb-11eb-9b35-1597f5ccdc40.png)

##### Break down spending data by department, vendor, product, or all three
![image](https://user-images.githubusercontent.com/43688010/111902745-1b6fae80-89fc-11eb-9f1e-ca3d7a447577.png)  |  ![image](https://user-images.githubusercontent.com/43688010/111902803-64276780-89fc-11eb-98fc-61d6ae1777bb.png)
:-------------------------:|:-------------------------:
![image](https://user-images.githubusercontent.com/43688010/111903013-57574380-89fd-11eb-8e5d-34ac1e2cf561.png)  |  ![image](https://user-images.githubusercontent.com/43688010/111903090-b9b04400-89fd-11eb-86f6-9391f5e908f3.png)

##### Upload your spending data & analyze with our other tools
![Alt text](/../readmeUpdate/screenshots/UploadPage.png?raw=true "Optional Title")  |  ![Alt text](/../readmeUpdate/screenshots/comboSearch.png?raw=true "Optional Title")
:-------------------------:|:-------------------------:
![Alt text](/../readmeUpdate/screenshots/priceperGloves.png?raw=true "Optional Title")  |  ![Alt text](/../readmeUpdate/screenshots/annualGloves.png?raw=true "Optional Title")

##### About us
![image](https://user-images.githubusercontent.com/43688010/111901481-bc0ea000-89f5-11eb-946f-f7bf136e1677.png)


## How To Run 

### Server:

May need to configure MySQL first.<br />
If this step is needed, run the following commands:<br />
**`ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'CS178!CD!dc';`<br />
`FLUSH PRIVILEGES;`<br />
`set global net_buffer_length=1000000;`<br />
`set global max_allowed_packet=1000000000;`**

This will downgrade MySQL authentication to match with NodeJS.

In the project directory, you can satisfy dependencies with:

#### `npm install`

To run server in development mode:

#### `npm start`

Logging will be on the console you ran from.<br />
Server will be listening on [http://localhost:4000](http://localhost:4000).

Server will restart if you make edits.<br />
You will also see any lint errors in the console.


### Client:

Start new terminal, seperate from the server.<br />
In the project directory, change to client directory:

#### `cd deep-capitalizer`

You can satisfy dependencies with:

#### `npm install`

To run client in development mode:

#### `npm start`

Open [http://localhost:3000](http://localhost:3000) to view it in the browser.<br />
The page will reload if you make edits.<br />
You will also see any lint errors in the console.

#### `npm test`

Launches the test runner in the interactive watch mode.<br />
See the section about [running tests](https://facebook.github.io/create-react-app/docs/running-tests) for more information.

#### `npm run build`

Builds the app for production to the `build` folder.<br />
It correctly bundles React in production mode and optimizes the build for the best performance.

The build is minified and the filenames include the hashes.<br />
Your app is ready to be deployed!

See the section about [deployment](https://facebook.github.io/create-react-app/docs/deployment) for more information.

#### `npm run eject`

**Note: this is a one-way operation. Once you `eject`, you can’t go back!**

If you aren’t satisfied with the build tool and configuration choices, you can `eject` at any time. This command will remove the single build dependency from your project.

Instead, it will copy all the configuration files and the transitive dependencies (Webpack, Babel, ESLint, etc) right into your project so you have full control over them. All of the commands except `eject` will still work, but they will point to the copied scripts so you can tweak them. At this point you’re on your own.

You don’t have to ever use `eject`. The curated feature set is suitable for small and middle deployments, and you shouldn’t feel obligated to use this feature. However we understand that this tool wouldn’t be useful if you couldn’t customize it when you are ready for it.


## Diagrams

##### High Level Pipeline
![Alt text](/../readmeUpdate/screenshots/pipeline.png?raw=true "Optional Title")
<br />
##### Sequence of Pipeline in detail
![image](https://user-images.githubusercontent.com/43688010/111901153-6507cb80-89f3-11eb-8188-dfea73a1a08c.png)


## Dependencies

Install Node Package Manager (npm). [Helpful NPM Documentation](https://www.npmjs.com/get-npm)

Install MySQL. [Helpful MySQL Documentation](https://dev.mysql.com/downloads/mysql/)


